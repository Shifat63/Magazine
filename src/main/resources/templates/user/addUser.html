<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/adminLayout :: layout (~{::body},'adminPanel')}">
<body>
<h1 th:if="${user.getUserId()==null}" th:text="'Add User'"></h1>
<h1 th:unless="${user.getUserId()==null}" th:text="'Edit User'"></h1>
<form action="#" th:action="@{/user/addOrEditUser}" th:object="${user}" class="was-validated" method="post">
    <div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
        <p>Please correct the following errors.</p>
    </div>
    <input type="hidden" th:field="*{userId}" id="userId" name="userId">
    <input type="hidden" th:field="*{userType}" id="userType" name="userType">
    <div class="form-group">
        <label for="firstName">First Name:</label>
        <input type="text" th:field="*{firstName}" th:errorclass="has-error" class="form-control" id="firstName" placeholder="Enter First Name" name="firstName" required>
        <div class="invalid-feedback">Please provide First Name.</div>
        <div th:if="${#fields.hasErrors('firstName')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('firstName')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="lastName">Last Name:</label>
        <input type="text" th:field="*{lastName}" class="form-control" id="lastName" placeholder="Enter Last Name" name="lastName" required>
        <div class="invalid-feedback">Please provide Last Name.</div>
        <div th:if="${#fields.hasErrors('lastName')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('lastName')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="email">Email:</label>
        <input type="text" th:field="*{email}" class="form-control" id="email" placeholder="Enter Email" name="email" required>
        <div class="invalid-feedback">Please provide Email.</div>
        <div th:if="${#fields.hasErrors('email')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('email')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="birthDate">Date of Birth:</label>
        <input type="text" th:field="*{birthDate}" class="form-control" id="birthDate" placeholder="Enter Date of Birth(dd-MM-yyyy)" name="birthDate" required>
        <div class="invalid-feedback">Please provide Date of Birth.</div>
        <div th:if="${#fields.hasErrors('birthDate')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('birthDate')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group" th:if="${user.getUserId()==null}">
        <label for="password">Password:</label>
        <input type="password" th:field="*{password}" class="form-control" id="password" placeholder="Enter Password" name="password" required>
        <div class="invalid-feedback">Please provide Password.</div>
        <div th:if="${#fields.hasErrors('password')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('password')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <input th:unless="${user.getUserId()==null}" type="hidden" th:field="*{password}" id="password" name="password">
    <div th:if="${user.getUserId()!=null && user.getUserId()!=1}" class="form-group">
        <label for="isActive">Status:</label>
        <select th:field="*{isActive}" name="isActive" id="isActive" class="form-control browser-default custom-select">
            <option value="true">Active</option>
            <option value="false">Inactive</option>
        </select>
        <div th:if="${#fields.hasErrors('isActive')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('isActive')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <input th:unless="${user.getUserId()!=null && user.getUserId()!=1}" type="hidden" th:field="*{isActive}" id="isActive" name="isActive">
    <button type="submit" class="btn btn-primary">Save</button>
</form>
</body>
</html>

