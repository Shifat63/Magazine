<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/adminLayout :: layout (~{::body},'adminPanel')}">
<body>
<h1 th:if="${content.getContentId()==null}" th:text="'Add Content'"></h1>
<h1 th:unless="${content.getContentId()==null}" th:text="'Edit Content'"></h1>
<form action="#" th:action="@{/content/addOrEditContent}" th:object="${content}" class="was-validated" method="post">
    <div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
        <p>Please correct the following errors.</p>
    </div>
    <input type="hidden" th:field="*{contentId}" id="contentId" name="contentId">
    <input type="hidden" th:field="*{translationOf}" id="translationOf" name="translationOf">
    <div class="form-group">
        <label for="headline">Content Headline:</label>
        <input type="text" th:field="*{headline}" th:errorclass="has-error" class="form-control" id="headline" placeholder="Enter Content Headline" name="headline" required>
        <div class="invalid-feedback">Please provide Content Headline.</div>
        <div th:if="${#fields.hasErrors('headline')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('headline')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="teaser">Content Teaser:</label>
        <input type="text" th:field="*{teaser}" th:errorclass="has-error" class="form-control" id="teaser" placeholder="Enter Content Teaser" name="teaser" required>
        <div class="invalid-feedback">Please provide Content Teaser.</div>
        <div th:if="${#fields.hasErrors('teaser')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('teaser')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label>Content Text: </label>
        <textarea class="form-control" rows="3" th:field="*{contentText}"></textarea>
        <div class="alert alert-danger" th:if="${#fields.hasErrors('contentText')}">
            <ul>
                <li th:each="err : ${#fields.errors('contentText')}" th:text="${err}"/>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="language">Content Language:</label>
        <select th:field="*{language}" name="language" id="language" class="form-control browser-default custom-select">
            <option value="en">English</option>
            <option value="bn">Bengali</option>
            <option value="de">Deutsch</option>
        </select>
        <div th:if="${#fields.hasErrors('language')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('language')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="contentCategory">Content Category:</label>
        <select th:field="*{contentCategory}" name="contentCategory" id="contentCategory" class="form-control browser-default custom-select">
            <option th:each="contentCategory, i : ${contentCategories}" th:value="${contentCategory.getContentCategoryId()}" th:text="${contentCategory.getName()}"></option>
        </select>
        <div th:if="${#fields.hasErrors('contentCategory')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('contentCategory')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="isFront">Show on Front Page:</label>
        <select th:field="*{isFront}" name="isFront" id="isFront" class="form-control browser-default custom-select">
            <option value="false">No</option>
            <option value="true">Yes</option>
        </select>
        <div th:if="${#fields.hasErrors('isFront')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('isFront')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="isSlider">Show in Slider:</label>
        <select th:field="*{isSlider}" name="isSlider" id="isSlider" class="form-control browser-default custom-select">
            <option value="false">No</option>
            <option value="true">Yes</option>
        </select>
        <div th:if="${#fields.hasErrors('isSlider')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('isSlider')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label for="keyword">Keyword:</label>
        <input type="text" th:field="*{keyword}" th:errorclass="has-error" class="form-control" id="keyword" placeholder="Enter keyword" name="keyword">
        <div th:if="${#fields.hasErrors('keyword')}" class="alert alert-danger">
            <ul>
                <li th:each="err : ${#fields.errors('keyword')}" th:text="${err}" ></li>
            </ul>
        </div>
    </div>
    <div class="form-group">
        <label>Images:</label>
        <table id="contentImages" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>Serial</th>
                    <th>Position</th>
                    <th>Upload</th>
                    <th>Image</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Banner</td>
                    <td>
                        <input type="file" placeholder="Upload Banner" class="form-control" id="contentBanner" name="contentBanner" onchange="ShowImagePreview(this)" required/>
                        <div class="invalid-feedback">Please Upload Image.</div><br/>
                    </td>
                    <td>
                        <img class="card-img rounded-0" name="contentBannerImage" id="contentBannerImage" />
                    </td>
                </tr>
            </tbody>
            <tbody>
            <tr>
                <td>2</td>
                <td>Footer</td>
                <td>
                    <input type="file" placeholder="Upload Footer" class="form-control" id="contentFooter" name="contentFooter" onchange="ShowImagePreview(this)"/>
                </td>
                <td>
                    <img class="card-img rounded-0" name="contentFooterImage" id="contentFooterImage" />
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
</form>
</body>
</html>

